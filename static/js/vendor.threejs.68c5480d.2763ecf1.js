"use strict";(self.webpackChunkvoltaris_website=self.webpackChunkvoltaris_website||[]).push([[926],{2325:(e,t,n)=>{n.d(t,{Hl:()=>u});var r=n(2880),o=n(9950),i=n(3437),a=n(9341),s=n(7782),c=n(4414);n(3878),n(9235),n(5340);const l=o.forwardRef((function(e,t){let{children:n,fallback:l,resize:u,style:f,gl:d,events:p=r.c,eventSource:v,eventPrefix:h,shadows:m,linear:g,flat:y,legacy:b,orthographic:w,frameloop:_,dpr:P,performance:C,raycaster:S,camera:j,scene:E,onPointerMissed:M,onCreated:x,...O}=e;o.useMemo((()=>(0,r.e)(i)),[]);const k=(0,s.y3)(),[A,z]=(0,a.A)({scroll:!0,debounce:{scroll:50,resize:0},...u}),R=o.useRef(null),T=o.useRef(null);o.useImperativeHandle(t,(()=>R.current));const D=(0,r.u)(M),[I,L]=o.useState(!1),[H,q]=o.useState(!1);if(I)throw I;if(H)throw H;const F=o.useRef(null);(0,r.a)((()=>{const e=R.current;z.width>0&&z.height>0&&e&&(F.current||(F.current=(0,r.b)(e)),F.current.configure({gl:d,events:p,shadows:m,linear:g,flat:y,legacy:b,orthographic:w,frameloop:_,dpr:P,performance:C,raycaster:S,camera:j,scene:E,size:z,onPointerMissed:function(){return null==D.current?void 0:D.current(...arguments)},onCreated:e=>{null==e.events.connect||e.events.connect(v?(0,r.i)(v)?v.current:v:T.current),h&&e.setEvents({compute:(e,t)=>{const n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==x||x(e)}}),F.current.render((0,c.jsx)(k,{children:(0,c.jsx)(r.E,{set:q,children:(0,c.jsx)(o.Suspense,{fallback:(0,c.jsx)(r.B,{set:L}),children:null!=n?n:null})})})))})),o.useEffect((()=>{const e=R.current;if(e)return()=>(0,r.d)(e)}),[]);const B=v?"none":"auto";return(0,c.jsx)("div",{ref:T,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...f},...O,children:(0,c.jsx)("div",{ref:A,style:{width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:R,style:{display:"block"},children:l})})})})),u=o.forwardRef((function(e,t){return(0,c.jsx)(s.Af,{children:(0,c.jsx)(l,{...e,ref:t})})}))},2880:(e,t,n)=>{n.d(t,{B:()=>j,D:()=>le,E:()=>E,F:()=>ue,H:()=>pe,a:()=>C,b:()=>_e,c:()=>Me,d:()=>Ce,e:()=>m,h:()=>Se,i:()=>P,k:()=>ye,u:()=>S});var r=n(7226),o=n(3437),i=n(9950),a=n(3878);function s(e){let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(o!==t){const e=t;t=r?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,subscribe:(e,r,i)=>r||i?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function s(){const n=r(t);if(!i(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)}(e,r,i):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,o,i),i}const c="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?i.useEffect:i.useLayoutEffect;function l(e){const t="function"===typeof e?s(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,r]=(0,i.useReducer)((e=>e+1),0),o=t.getState(),a=(0,i.useRef)(o),s=(0,i.useRef)(e),l=(0,i.useRef)(n),u=(0,i.useRef)(!1),f=(0,i.useRef)();let d;void 0===f.current&&(f.current=e(o));let p=!1;(a.current!==o||s.current!==e||l.current!==n||u.current)&&(d=e(o),p=!n(f.current,d)),c((()=>{p&&(f.current=d),a.current=o,s.current=e,l.current=n,u.current=!1}));const v=(0,i.useRef)(o);c((()=>{const e=()=>{try{const e=t.getState(),n=s.current(e);l.current(f.current,n)||(a.current=e,f.current=n,r())}catch(e){u.current=!0,r()}},n=t.subscribe(e);return t.getState()!==v.current&&e(),n}),[]);const h=p?d:f.current;return(0,i.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}var u=n(3571),f=n(4414),d=n(9235),p=n.n(d),v=n(5340);const h={},m=e=>{Object.assign(h,e)};var g,y;const b=e=>"colorSpace"in e||"outputColorSpace"in e,w=()=>{var e;return null!=(e=h.ColorManagement)?e:null},_=e=>e&&e.isOrthographicCamera,P=e=>e&&e.hasOwnProperty("current"),C="undefined"!==typeof window&&(null!=(g=window.document)&&g.createElement||"ReactNative"===(null==(y=window.navigator)?void 0:y.product))?i.useLayoutEffect:i.useEffect;function S(e){const t=i.useRef(e);return C((()=>{t.current=e}),[e]),t}function j(e){let{set:t}=e;return C((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class E extends i.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}E.getDerivedStateFromError=()=>({error:!0});const M="__default",x=new Map,O=e=>e&&!!e.memoized&&!!e.changes;function k(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const A=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function z(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const R={obj:e=>e===Object(e)&&!R.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:o=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(R.str(e)||R.num(e)||R.boo(e))return e===t;const i=R.obj(e);if(i&&"reference"===r)return e===t;const a=R.arr(e);if(a&&"reference"===n)return e===t;if((a||i)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(i&&"shallow"===n&&"shallow"===r){for(s in o?t:e)if(!R.equ(e[s],t[s],{strict:o,objects:"reference"}))return!1}else for(s in o?t:e)if(e[s]!==t[s])return!1;if(R.und(s)){if(a&&0===e.length&&0===t.length)return!0;if(i&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function T(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function D(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function I(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),o=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:o}}return{target:n,key:t}}const L=/-\d+$/;function H(e,t,n){if(R.str(n)){if(L.test(n)){const t=n.replace(L,""),{target:r,key:o}=I(e,t);Array.isArray(r[o])||(r[o]=[])}const{target:r,key:o}=I(e,n);t.__r3f.previousAttach=r[o],r[o]=t}else t.__r3f.previousAttach=n(e,t)}function q(e,t,n){var r,o;if(R.str(n)){const{target:r,key:o}=I(e,n),i=t.__r3f.previousAttach;void 0===i?delete r[o]:r[o]=i}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(o=t.__r3f)||delete o.previousAttach}function F(e,t){let{children:n,key:r,ref:o,...i}=t,{children:a,key:s,ref:c,...l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const f=e.__r3f,d=Object.entries(i),p=[];if(u){const e=Object.keys(l);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||d.unshift([e[t],M+"remove"])}d.forEach((t=>{let[n,r]=t;var o;if(null!=(o=e.__r3f)&&o.primitive&&"object"===n)return;if(R.equ(r,l[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return p.push([n,r,!0,[]]);let a=[];n.includes("-")&&(a=n.split("-")),p.push([n,r,!1,a]);for(const e in i){const t=i[e];e.startsWith(`${n}-`)&&p.push([e,t,!1,e.split("-")])}}));const v={...i};return null!=f&&f.memoizedProps&&null!=f&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),null!=f&&f.memoizedProps&&null!=f&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:p}}const B="undefined"!==typeof process&&!1;function W(e,t){var n;const o=e.__r3f,i=null==o?void 0:o.root,a=null==i||null==i.getState?void 0:i.getState(),{memoized:s,changes:c}=O(t)?t:F(e,t),l=null==o?void 0:o.eventCount;e.__r3f&&(e.__r3f.memoizedProps=s);for(let d=0;d<c.length;d++){let[t,n,i,s]=c[d];if(b(e)){const e=3001,r="srgb",o="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:o):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:o)}let l=e,p=l[t];if(s.length&&(p=s.reduce(((e,t)=>e[t]),e),!p||!p.set)){const[n,...r]=s.reverse();l=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===M+"remove")if(l.constructor){let e=x.get(l.constructor);e||(e=new l.constructor,x.set(l.constructor,e)),n=e[t]}else n=0;if(i&&o)n?o.handlers[t]=n:delete o.handlers[t],o.eventCount=Object.keys(o.handlers).length;else if(p&&p.set&&(p.copy||p instanceof r.zgK)){if(Array.isArray(n))p.fromArray?p.fromArray(n):p.set(...n);else if(p.copy&&n&&n.constructor&&(B?p.constructor.name===n.constructor.name:p.constructor===n.constructor))p.copy(n);else if(void 0!==n){var u;const e=null==(u=p)?void 0:u.isColor;!e&&p.setScalar?p.setScalar(n):p instanceof r.zgK&&n instanceof r.zgK?p.mask=n.mask:p.set(n),!w()&&a&&!a.linear&&e&&p.convertSRGBToLinear()}}else{var f;if(l[t]=n,null!=(f=l[t])&&f.isTexture&&l[t].format===r.GWd&&l[t].type===r.OUM&&a){const e=l[t];b(e)&&b(a.gl)?e.colorSpace=a.gl.outputColorSpace:e.encoding=a.gl.outputEncoding}}U(e)}if(o&&o.parent&&e.raycast&&l!==o.eventCount){const t=z(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),o.eventCount&&t.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(n=e.__r3f)&&n.parent&&V(e),e}function U(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function V(e){null==e.onUpdate||e.onUpdate(e)}function Y(e,t){e.manual||(_(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function $(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function N(e,t,n,r){const o=n.get(t);o&&(n.delete(t),0===n.size&&(e.delete(r),o.target.releasePointerCapture(r)))}function G(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,o=null==r?void 0:r.handlers;if(n.hovered.delete($(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==o.onPointerOut||o.onPointerOut(n),null==o.onPointerLeave||o.onPointerLeave(n)}}}function o(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){const{onPointerMissed:s,internal:c}=e.getState();c.lastEvent.current=a;const l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){const r=e.getState(),o=new Set,i=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){const t=A(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=a.flatMap((function(e){const n=A(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=A(e.object),r=A(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=$(e);return!o.has(t)&&(o.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var c;null!=(c=t.__r3f)&&c.eventCount&&i.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())o.has($(e.intersection))||i.push(e.intersection);return i}(a,l?t:void 0),d=u?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],o=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+o*o))}(a):0;"onPointerDown"===i&&(c.initialClick=[a.offsetX,a.offsetY],c.initialHits=f.map((e=>e.eventObject))),u&&!f.length&&d<=2&&(o(a,c.interaction),s&&s(a)),l&&n(f),function(t,o,i,a){const s=e.getState();if(t.length){const e={stopped:!1};for(const c of t){const l=A(c.object)||s,{raycaster:u,pointer:f,camera:d,internal:p}=l,v=new r.Pq0(f.x,f.y,0).unproject(d),h=e=>{var t,n;return null!=(t=null==(n=p.capturedMap.get(e))?void 0:n.has(c.eventObject))&&t},m=e=>{const t={intersection:c,target:o.target};p.capturedMap.has(e)?p.capturedMap.get(e).set(c.eventObject,t):p.capturedMap.set(e,new Map([[c.eventObject,t]])),o.target.setPointerCapture(e)},g=e=>{const t=p.capturedMap.get(e);t&&N(p.capturedMap,c.eventObject,t,e)};let y={};for(let e in o){let t=o[e];"function"!==typeof t&&(y[e]=t)}let b={...c,...y,pointer:f,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:v,ray:u.ray,camera:d,stopPropagation(){const r="pointerId"in o&&p.capturedMap.get(o.pointerId);(!r||r.has(c.eventObject))&&(b.stopped=e.stopped=!0,p.hovered.size&&Array.from(p.hovered.values()).find((e=>e.eventObject===c.eventObject)))&&n([...t.slice(0,t.indexOf(c)),c])},target:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:g},nativeEvent:o};if(a(b),!0===e.stopped)break}}}(f,a,d,(function(e){const t=e.eventObject,n=t.__r3f,r=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){const t=$(e),n=c.hovered.get(t);n?n.stopped&&e.stopPropagation():(c.hovered.set(t,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{const n=r[i];n?u&&!c.initialHits.includes(t)||(o(a,c.interaction.filter((e=>!c.initialHits.includes(e)))),n(e)):u&&c.initialHits.includes(t)&&o(a,c.interaction.filter((e=>!c.initialHits.includes(e))))}}))}}}}const X=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],K=e=>!(null==e||!e.render),Q=i.createContext(null),Z=(e,t)=>{const n=l(((n,o)=>{const a=new r.Pq0,s=new r.Pq0,c=new r.Pq0;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o().size;const{width:r,height:i,top:l,left:u}=n,f=r/i;t.isVector3?c.copy(t):c.set(...t);const d=e.getWorldPosition(a).distanceTo(c);if(_(e))return{width:r/e.zoom,height:i/e.zoom,top:l,left:u,factor:1,distance:d,aspect:f};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,o=n*(r/i);return{width:o,height:n,top:l,left:u,factor:r/o,distance:d,aspect:f}}}let u;const f=e=>n((t=>({performance:{...t.performance,current:e}}))),d=new r.I9Y,p={set:n,get:o,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(o(),t)},advance:(e,n)=>t(e,n,o()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new r.zD7,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=o();u&&clearTimeout(u),e.performance.current!==e.performance.min&&f(e.performance.min),u=setTimeout((()=>f(o().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,r,i,a)=>{const c=o().camera,u={width:e,height:t,top:i||0,left:a||0,updateStyle:r};n((e=>({size:u,viewport:{...e.viewport,...l(c,s,u)}})))},setDpr:e=>n((t=>{const n=k(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=o().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:i.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=o().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=o().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return p})),o=n.getState();let a=o.size,s=o.viewport.dpr,c=o.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:o,set:i}=n.getState();if(t.width!==a.width||t.height!==a.height||r.dpr!==s){var l;a=t,s=r.dpr,Y(e,t),o.setPixelRatio(r.dpr);const n=null!=(l=t.updateStyle)?l:"undefined"!==typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(t.width,t.height,n)}e!==c&&(c=e,i((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let J,ee=new Set,te=new Set,ne=new Set;function re(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function oe(e,t){switch(e){case"before":return re(ee,t);case"after":return re(te,t);case"tail":return re(ne,t)}}let ie,ae;function se(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ie=t.internal.subscribers,J=0;J<ie.length;J++)ae=ie[J],ae.ref.current(ae.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ce(){const e=i.useContext(Q);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return ce()(e,t)}function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=ce(),r=n.getState().internal.subscribe,o=S(e);return C((()=>r(o,t,n)),[t,r,n]),null}const fe=new WeakMap;function de(e,t){return function(n){let r=fe.get(n);r||(r=new n,fe.set(n,r)),e&&e(r);for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return Promise.all(i.map((e=>new Promise(((n,o)=>r.load(e,(e=>{e.scene&&Object.assign(e,T(e.scene)),n(e)}),t,(t=>o(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`)))))))))}}function pe(e,t,n,r){const o=Array.isArray(t)?t:[t],i=(0,u.DY)(de(n,r),[e,...o],{equal:R.equ});return Array.isArray(t)?i:i[0]}pe.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return(0,u.uv)(de(n),[e,...r])},pe.clear=function(e,t){const n=Array.isArray(t)?t:[t];return(0,u.IU)([e,...n])};const ve=new Map,{invalidate:he,advance:me}=function(e){let t,n,r,o=!1,i=!1;function a(s){n=requestAnimationFrame(a),o=!0,t=0,oe("before",s),i=!0;for(const n of e.values()){var c;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(c=r.gl.xr)&&c.isPresenting||(t+=se(s,r))}if(i=!1,oe("after",s),0===t)return oe("tail",s),o=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var s;if(!n)return e.forEach((e=>t(e.store.getState(),r)));null!=(s=n.gl.xr)&&s.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):i?2:1,o||(o=!0,requestAnimationFrame(a)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(n&&oe("before",t),r)se(t,r,o);else for(const i of e.values())se(t,i.store.getState());n&&oe("after",t)}}}(ve),{reconciler:ge,applyProps:ye}=function(e,t){function n(e,t,n){let r,{args:o=[],attach:i,...a}=t,s=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===a.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=D(a.object,{type:e,root:n,attach:i,primitive:!0})}else{const t=h[s];if(!t)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(o))throw new Error("R3F: The args prop must be an array!");r=D(new t(...o),{type:e,root:n,attach:i,memoizedProps:{args:o}})}return void 0===r.__r3f.attach&&(r.isBufferGeometry?r.__r3f.attach="geometry":r.isMaterial&&(r.__r3f.attach="material")),"inject"!==s&&W(r,a),r}function r(e,t){let n=!1;var r,o;t&&(null!=(r=t.__r3f)&&r.attach?H(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||D(t,{}),t.__r3f.parent=e,V(t),U(t))}function o(e,t,n){let r=!1;if(t){var o,i;if(null!=(o=t.__r3f)&&o.attach)H(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const o=e.children.filter((e=>e!==t)),i=o.indexOf(n);e.children=[...o.slice(0,i),t,...o.slice(i)],r=!0}r||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||D(t,{}),t.__r3f.parent=e,V(t),U(t)}}function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>s(t,e,n)))}function s(e,t,n){if(t){var r,o,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(o=t.__r3f)&&o.attach)q(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{N(n.capturedMap,t,e,r)}))}(z(t),t)}const l=null==(a=t.__r3f)?void 0:a.primitive,u=!l&&(void 0===n?null!==t.dispose:n);var c;if(!l)i(null==(c=t.__r3f)?void 0:c.objects,t,u),i(t.children,t,u);if(delete t.__r3f,u&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"===typeof IS_REACT_ACT_ENVIRONMENT?(0,v.unstable_scheduleCallback)(v.unstable_IdlePriority,e):e()}U(e)}}const c=()=>{};return{reconciler:p()({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&s(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&o(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var o;if((null!=(o=null==e?void 0:e.__r3f)?o:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:o,...i}=r,{args:a=[],children:s,...c}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==a[t])))return[!0];const l=F(e,i,c,!0);return l.changes.length?[!1,l]:null}},commitUpdate(e,t,o,i,a,c){let[l,u]=t;l?function(e,t,o,i){var a;const c=null==(a=e.__r3f)?void 0:a.parent;if(!c)return;const l=n(t,o,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(l,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(l,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||s(c,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(c,l),l.raycast&&l.__r3f.eventCount&&z(l).getState().internal.interaction.push(l);[i,i.alternate].forEach((e=>{null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}(e,o,a,c):W(e,u)},commitMount(e,t,n,r){var o;const i=null!=(o=e.__r3f)?o:{};e.raycast&&i.handlers&&i.eventCount&&z(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>D(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&q(r,e,n),e.isObject3D&&(e.visible=!1),U(e)},unhideInstance(e,t){var n;const{attach:r,parent:o}=null!=(n=e.__r3f)?n:{};r&&o&&H(o,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),U(e)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>t?t():a.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&R.fun(performance.now)?performance.now:R.fun(Date.now)?Date.now:()=>0,scheduleTimeout:R.fun(setTimeout)?setTimeout:void 0,cancelTimeout:R.fun(clearTimeout)?clearTimeout:void 0}),applyProps:W}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return a.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return a.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return a.ContinuousEventPriority;default:return a.DefaultEventPriority}})),be={objects:"shallow",strict:!1},we=(e,t)=>{const n="function"===typeof e?e(t):e;return K(n)?n:new o.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function _e(e){const t=ve.get(e),n=null==t?void 0:t.fiber,o=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const i="function"===typeof reportError?reportError:console.error,s=o||Z(he,me),c=n||ge.createContainer(s,a.ConcurrentRoot,null,!1,null,"",i,null);let l;t||ve.set(e,{fiber:c,store:s});let u,d=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:o,scene:i,events:a,onCreated:c,shadows:f=!1,linear:p=!1,flat:v=!1,legacy:h=!1,orthographic:m=!1,frameloop:g="always",dpr:y=[1,2],performance:b,raycaster:_,camera:P,onPointerMissed:C}=t,S=s.getState(),j=S.gl;S.gl||S.set({gl:j=we(n,e)});let E=S.raycaster;E||S.set({raycaster:E=new r.tBo});const{params:M,...x}=_||{};if(R.equ(x,E,be)||ye(E,{...x}),R.equ(M,E.params,be)||ye(E,{params:{...E.params,...M}}),!S.camera||S.camera===u&&!R.equ(u,P,be)){u=P;const e=P instanceof r.i7d,t=e?P:m?new r.qUd(0,0,0,0,.1,1e3):new r.ubm(75,0,.1,1e3);e||(t.position.z=5,P&&(ye(t,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(t.manual=!0,t.updateProjectionMatrix())),S.camera||null!=P&&P.rotation||t.lookAt(0,0,0)),S.set({camera:t}),E.camera=t}if(!S.scene){let e;null!=i&&i.isScene?e=i:(e=new r.Z58,i&&ye(e,i)),S.set({scene:D(e)})}if(!S.xr){var O;const e=(e,t)=>{const n=s.getState();"never"!==n.frameloop&&me(e,!0,n,t)},t=()=>{const t=s.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||he(t)},n={connect(){const e=s.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=s.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(O=j.xr)?void 0:O.addEventListener)&&n.connect(),S.set({xr:n})}if(j.shadowMap){const e=j.shadowMap.enabled,t=j.shadowMap.type;if(j.shadowMap.enabled=!!f,R.boo(f))j.shadowMap.type=r.Wk7;else if(R.str(f)){var A;const e={basic:r.bTm,percentage:r.QP0,soft:r.Wk7,variance:r.RyA};j.shadowMap.type=null!=(A=e[f])?A:r.Wk7}else R.obj(f)&&Object.assign(j.shadowMap,f);e===j.shadowMap.enabled&&t===j.shadowMap.type||(j.shadowMap.needsUpdate=!0)}const z=w();if(z&&("enabled"in z?z.enabled=!h:"legacyMode"in z&&(z.legacyMode=h)),!d){ye(j,{outputEncoding:p?3e3:3001,toneMapping:v?r.y_p:r.FV})}S.legacy!==h&&S.set((()=>({legacy:h}))),S.linear!==p&&S.set((()=>({linear:p}))),S.flat!==v&&S.set((()=>({flat:v}))),!n||R.fun(n)||K(n)||R.equ(n,j,be)||ye(j,n),a&&!S.events.handlers&&S.set({events:a(s)});const T=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:o,left:i,updateStyle:a=n}=t;return{width:e,height:r,top:o,left:i,updateStyle:a}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:o,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:o,left:i,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,o);return R.equ(T,S.size,be)||S.setSize(T.width,T.height,T.updateStyle,T.top,T.left),y&&S.viewport.dpr!==k(y)&&S.setDpr(y),S.frameloop!==g&&S.setFrameloop(g),S.onPointerMissed||S.set({onPointerMissed:C}),b&&!R.equ(b,S.performance,be)&&S.set((e=>({performance:{...e.performance,...b}}))),l=c,d=!0,this},render(t){return d||this.configure(),ge.updateContainer((0,f.jsx)(Pe,{store:s,children:t,onCreated:l,rootElement:e}),c,null,(()=>{})),s},unmount(){Ce(e)}}}function Pe(e){let{store:t,children:n,onCreated:r,rootElement:o}=e;return C((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(o)}),[]),(0,f.jsx)(Q.Provider,{value:t,children:n})}function Ce(e,t){const n=ve.get(e),r=null==n?void 0:n.fiber;if(r){const o=null==n?void 0:n.store.getState();o&&(o.internal.active=!1),ge.updateContainer(null,r,null,(()=>{o&&setTimeout((()=>{try{var n,r,i,a;null==o.events.disconnect||o.events.disconnect(),null==(n=o.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=o.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(a=o.gl)&&a.xr&&o.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(o),ve.delete(e),t&&t(e)}catch(s){}}),500)}))}}function Se(e,t,n){return(0,f.jsx)(je,{children:e,container:t,state:n},t.uuid)}function je(e){let{state:t={},children:n,container:o}=e;const{events:a,size:s,...c}=t,u=ce(),[d]=i.useState((()=>new r.tBo)),[p]=i.useState((()=>new r.I9Y)),v=i.useCallback(((e,t)=>{const n={...e};let i;if(Object.keys(e).forEach((r=>{(X.includes(r)||e[r]!==t[r]&&t[r])&&delete n[r]})),t&&s){const n=t.camera;i=e.viewport.getCurrentViewport(n,new r.Pq0,s),n!==e.camera&&Y(n,s)}return{...n,scene:o,raycaster:d,pointer:p,mouse:p,previousRoot:u,events:{...e.events,...null==t?void 0:t.events,...a},size:{...e.size,...s},viewport:{...e.viewport,...i},...c}}),[t]),[h]=i.useState((()=>{const e=u.getState(),t=l(((t,n)=>({...e,scene:o,raycaster:d,pointer:p,mouse:p,previousRoot:u,events:{...e.events,...a},size:{...e.size,...s},...c,set:t,get:n,setEvents:e=>t((t=>({...t,events:{...t.events,...e}})))})));return t}));return i.useEffect((()=>{const e=u.subscribe((e=>h.setState((t=>v(e,t)))));return()=>{e()}}),[v]),i.useEffect((()=>{h.setState((e=>v(u.getState(),e)))}),[v]),i.useEffect((()=>()=>{h.destroy()}),[]),(0,f.jsx)(f.Fragment,{children:ge.createPortal((0,f.jsx)(Q.Provider,{value:h,children:n}),h,null)})}ge.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:i.version});i.unstable_act;const Ee={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Me(e){const{handlePointer:t}=G(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Ee).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:o}=e.getState();null==o.disconnect||o.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=o.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[o,i]=Ee[n];t.addEventListener(o,r,{passive:i})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=Ee[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}}}]);